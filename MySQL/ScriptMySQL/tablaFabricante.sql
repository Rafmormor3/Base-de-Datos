create database fabricante;
use fabricante;

CREATE TABLE FABRICANTE
(
	ID_FAB INTEGER(5),
	NOMBRE VARCHAR(50),
	PAIS VARCHAR(50),
	
	CONSTRAINT PK_FABRICANTE PRIMARY KEY (ID_FAB)
);

CREATE TABLE PROGRAMA
(
	CODIGO INTEGER(5),
	NOMBRE VARCHAR(50),
	VERSIONES VARCHAR(50),
	
	CONSTRAINT PK_PROGRAMA PRIMARY KEY (CODIGO)
);

CREATE TABLE COMERCIO
(
	CIF INTEGER(5),
	NOMBRE VARCHAR(50),
	CIUDAD VARCHAR(50),
	
	CONSTRAINT PK_COMERCIO PRIMARY KEY (CIF)
);

CREATE TABLE CLIENTE
(
	DNI INTEGER(5),
	NOMBRE VARCHAR(50),
	EDAD INTEGER(5),
	
	CONSTRAINT PK_CLIENTE PRIMARY KEY (DNI)
);

CREATE TABLE DESARROLLA
(
	ID_FAB INTEGER(5),
	CODIGO INTEGER(5),
	
	CONSTRAINT PK_DESARROLLA PRIMARY KEY (ID_FAB, CODIGO)
);

CREATE TABLE DISTRIBUYE
(
	CIF INTEGER(5),
	CODIGO INTEGER(5),
	CANTIDAD INTEGER(5),
	
	CONSTRAINT PK_DISTRIBUYE PRIMARY KEY (CIF, CODIGO)
);

CREATE TABLE REGISTRA
(
	CIF INTEGER(5),
	DNI INTEGER(5),
	CODIGO INTEGER(5),
	MEDIO VARCHAR(50),
	
	CONSTRAINT PK_REGISTRA PRIMARY KEY (CIF, DNI, CODIGO)
);

ALTER TABLE DESARROLLA ADD CONSTRAINT FK1_DESARROLLA FOREIGN KEY (ID_FAB) REFERENCES FABRICANTE(ID_FAB);
ALTER TABLE DESARROLLA ADD CONSTRAINT FK2_DESARROLLA FOREIGN KEY (CODIGO) REFERENCES PROGRAMA(CODIGO);
ALTER TABLE DISTRIBUYE ADD CONSTRAINT FK1_DISTRIBUYE FOREIGN KEY (CODIGO) REFERENCES PROGRAMA(CODIGO);
ALTER TABLE DISTRIBUYE ADD CONSTRAINT FK2_DISTRIBUYE FOREIGN KEY (CIF) REFERENCES COMERCIO(CIF);
ALTER TABLE REGISTRA ADD CONSTRAINT FK1_REGISTRA FOREIGN KEY (CIF) REFERENCES COMERCIO(CIF);
ALTER TABLE REGISTRA ADD CONSTRAINT FK2_REGISTRA FOREIGN KEY (DNI) REFERENCES CLIENTE(DNI);
ALTER TABLE REGISTRA ADD CONSTRAINT FK3_REGISTRA FOREIGN KEY (CODIGO) REFERENCES PROGRAMA(CODIGO);


INSERT INTO FABRICANTE VALUES (1, 'Oracle', 'Estados Unidos');
INSERT INTO FABRICANTE VALUES (2, 'Microsoft', 'Estados Unidos');
INSERT INTO FABRICANTE VALUES (3, 'IBM', 'Estados Unidos');
INSERT INTO FABRICANTE VALUES (4, 'Dinamic', 'Espa√±a');
INSERT INTO FABRICANTE VALUES (5, 'Borland', 'Estados Unidos');
INSERT INTO FABRICANTE VALUES (6, 'Symantec', 'Estados Unidos');

INSERT INTO PROGRAMA VALUES (1, 'Application Server','9i');
INSERT INTO PROGRAMA VALUES (2, 'Database','8i');
INSERT INTO PROGRAMA VALUES (3, 'Database','9i');
INSERT INTO PROGRAMA VALUES (4, 'Database','10g');
INSERT INTO PROGRAMA VALUES (5, 'Developer','6i');
INSERT INTO PROGRAMA VALUES (6, 'Access','97');
INSERT INTO PROGRAMA VALUES (7, 'Access','2000');
INSERT INTO PROGRAMA VALUES (8, 'Access','XP');
INSERT INTO PROGRAMA VALUES (9, 'Windows','98');
INSERT INTO PROGRAMA VALUES (10, 'Windows','XP Profesional');
INSERT INTO PROGRAMA VALUES (11, 'Windows','XP Home Edition');
INSERT INTO PROGRAMA VALUES (12, 'Windows','2003 Server');
INSERT INTO PROGRAMA VALUES (13, 'Norton Internet Security','2004');
INSERT INTO PROGRAMA VALUES (14, 'Freddy Hardest',null);
INSERT INTO PROGRAMA VALUES (15, 'Paradox','2');
INSERT INTO PROGRAMA VALUES (16, 'C++ Builder','55');
INSERT INTO PROGRAMA VALUES (17, 'DB/2','20');
INSERT INTO PROGRAMA VALUES (18, 'OS/2','10');
INSERT INTO PROGRAMA VALUES (19, 'JBuilder','X');
INSERT INTO PROGRAMA VALUES (20, 'La prision','10');

INSERT INTO COMERCIO VALUES (1,'El Corte Ingles','Sevilla');
INSERT INTO COMERCIO VALUES (2,'El Corte Ingles','Madrid');
INSERT INTO COMERCIO VALUES (3,'Jump','Valencia');
INSERT INTO COMERCIO VALUES (4,'Centro Mail','Sevilla');
INSERT INTO COMERCIO VALUES (5,'FNAC','Barcelona');

INSERT INTO CLIENTE VALUES (1,'Pepe Perez',45);
INSERT INTO CLIENTE VALUES (2,'Juan Gonzalez',45);
INSERT INTO CLIENTE VALUES (3,'Maria Gomez',33);
INSERT INTO CLIENTE VALUES (4,'Javier Casado',18);
INSERT INTO CLIENTE VALUES (5,'Nuria Sanchez',29);
INSERT INTO CLIENTE VALUES (6,'Antonio Navarro',58);

INSERT INTO DESARROLLA VALUES (1,1);
INSERT INTO DESARROLLA VALUES (1,2);
INSERT INTO DESARROLLA VALUES (1,3);
INSERT INTO DESARROLLA VALUES (1,4);
INSERT INTO DESARROLLA VALUES (1,5);
INSERT INTO DESARROLLA VALUES (2,6);
INSERT INTO DESARROLLA VALUES (2,7);
INSERT INTO DESARROLLA VALUES (2,8);
INSERT INTO DESARROLLA VALUES (2,9);
INSERT INTO DESARROLLA VALUES (2,10);
INSERT INTO DESARROLLA VALUES (2,11);
INSERT INTO DESARROLLA VALUES (2,12);
INSERT INTO DESARROLLA VALUES (6,13);
INSERT INTO DESARROLLA VALUES (4,14);
INSERT INTO DESARROLLA VALUES (5,15);
INSERT INTO DESARROLLA VALUES (5,16);
INSERT INTO DESARROLLA VALUES (3,17);
INSERT INTO DESARROLLA VALUES (3,18);
INSERT INTO DESARROLLA VALUES (5,19);
INSERT INTO DESARROLLA VALUES (4,20);

INSERT INTO DISTRIBUYE VALUES (1,1,10);
INSERT INTO DISTRIBUYE VALUES (1,2,11);
INSERT INTO DISTRIBUYE VALUES (1,6,5);
INSERT INTO DISTRIBUYE VALUES (1,7,3);
INSERT INTO DISTRIBUYE VALUES (1,10,5);
INSERT INTO DISTRIBUYE VALUES (1,13,7);
INSERT INTO DISTRIBUYE VALUES (2,1,6);
INSERT INTO DISTRIBUYE VALUES (2,2,6);
INSERT INTO DISTRIBUYE VALUES (2,6,4);
INSERT INTO DISTRIBUYE VALUES (2,7,7);
INSERT INTO DISTRIBUYE VALUES (3,10,8);
INSERT INTO DISTRIBUYE VALUES (3,13,5);
INSERT INTO DISTRIBUYE VALUES (4,14,3);
INSERT INTO DISTRIBUYE VALUES (4,20,6);
INSERT INTO DISTRIBUYE VALUES (5,15,8);
INSERT INTO DISTRIBUYE VALUES (5,16,2);
INSERT INTO DISTRIBUYE VALUES (5,17,3);
INSERT INTO DISTRIBUYE VALUES (5,19,6);
INSERT INTO DISTRIBUYE VALUES (5,8,8);

INSERT INTO REGISTRA VALUES (1,1,1,'Internet');
INSERT INTO REGISTRA VALUES (1,3,4,'Tarjeta postal');
INSERT INTO REGISTRA VALUES (4,2,10,'Telefono');
INSERT INTO REGISTRA VALUES (4,1,10,'Tarjeta Postal');
INSERT INTO REGISTRA VALUES (5,2,12,'Internet');
INSERT INTO REGISTRA VALUES (2,4,15,'Internet');









