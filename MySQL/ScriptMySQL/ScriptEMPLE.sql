create database emple;
use emple;

CREATE TABLE EMPLE 
(
	EMP_NO INTEGER(5),
	APELLIDO VARCHAR(20),
	OFICIO VARCHAR(20),
	DIR INTEGER(5),
	FECHA_ALT DATE,
	SALARIO INTEGER(8),
	COMISION INTEGER(8),
	DEPT_NO INTEGER(3),
	
	CONSTRAINT PK_EMPLE PRIMARY KEY (EMP_NO)
	
);

CREATE TABLE DEPART 
(
	DEPT_NO INTEGER(3),
	DNOMBRE VARCHAR(20),
	LOC VARCHAR(20),

	CONSTRAINT PK_DEPART PRIMARY KEY (DEPT_NO)	
);


INSERT INTO EMPLE VALUES (7369, 'SÁNCHEZ', 'EMPLEADO', 7902, STR_TO_DATE('17-12-1980', '%d-%m-%Y'), 104000, NULL, 20);
INSERT INTO EMPLE VALUES (7499, 'ARROYO', 'VENDEDOR', 7698, STR_TO_DATE('20-02-1980', '%d-%m-%Y'), 208000, 39000, 30);
INSERT INTO EMPLE VALUES (7521, 'SALA', 'VENDEDOR', 7698, STR_TO_DATE('22-02-1981', '%d-%m-%Y'), 162500, 162500, 30);
INSERT INTO EMPLE VALUES (7566, 'JIMÉNEZ', 'DIRECTOR', 7839, STR_TO_DATE('02-04-1981', '%d-%m-%Y'), 386750, NULL, 20);
INSERT INTO EMPLE VALUES (7654, 'MARTÍN', 'VENDEDOR', 7698, STR_TO_DATE('29-09-1981', '%d-%m-%Y'), 162500, 182000, 30);
INSERT INTO EMPLE VALUES (7698, 'NEGRO', 'DIRECTOR', 7839, STR_TO_DATE('01-05-1981', '%d-%m-%Y'), 370500, NULL, 30);
INSERT INTO EMPLE VALUES (7788, 'GIL', 'ANALISTA', 7566, STR_TO_DATE('09-11-1981', '%d-%m-%Y'), 390000, NULL, 20);
INSERT INTO EMPLE VALUES (7839, 'REY', 'PRESIDENTE', NULL, STR_TO_DATE('17-11-1981', '%d-%m-%Y'), 650000, NULL, 10);
INSERT INTO EMPLE VALUES (7844, 'TOVAR', 'VENDEDOR', 7698, STR_TO_DATE('08-09-1981', '%d-%m-%Y'), 195000, NULL, 30);
INSERT INTO EMPLE VALUES (7876, 'ALONSO', 'EMPLEADO', 7788, STR_TO_DATE('23-09-1981', '%d-%m-%Y'), 143000, NULL, 20);
INSERT INTO EMPLE VALUES (7900, 'JIMENO', 'EMPLEADO', 7698, STR_TO_DATE('03-12-1981', '%d-%m-%Y'), 1235000, NULL, 30);
INSERT INTO EMPLE VALUES (7902, 'FERNÁNDEZ', 'ANALISTA', 7566, STR_TO_DATE('03-12-1981', '%d-%m-%Y'), 390000, NULL, 20);
INSERT INTO EMPLE VALUES (7934, 'MUÑOZ', 'EMPLEADO', NULL, STR_TO_DATE('23-01-1982', '%d-%m-%Y'), 169000, NULL, 10);

INSERT INTO DEPART VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES (20,'INVESTIGACIÓN','MADRID');
INSERT INTO DEPART VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPART VALUES (40,'PRODUCCIÓN','BILBAO');


ALTER TABLE EMPLE ADD CONSTRAINT FK_DEPT_NO FOREIGN KEY (DEPT_NO) REFERENCES DEPART(DEPT_NO);
ALTER TABLE EMPLE ADD CONSTRAINT FK_EMPLE FOREIGN KEY (DIR) REFERENCES EMPLE(EMP_NO);



